#define PERIPH_BASE 		0x40000000UL
#define AHB1PERIPH_BASE 	(PERIPH_BASE + 0x20000UL)
#define GPIOD_BASE			(AHB1PERIPH_BASE + 0xC00UL)
#define RCC_BASE 			(AHB1PERIPH_BASE + 0x3800UL)

#define RCC_AHB1EN_R		(*(volatile unsigned int *)(RCC_BASE + 0x30UL))
#define GPIOD_EN 			(1U << 3)

#define GPIOD_MODE_R		(*(volatile unsigned int *)(GPIOD_BASE + 0x00UL))
#define GPIOD_OD_R			(*(volatile unsigned int *)(GPIOD_BASE + 0x14UL))

#define PIN12				(1U << 12)
#define PIN13				(1U << 13)
#define PIN14				(1U << 14)
#define PIN15				(1U << 15)

int main()
{
	// D portu için clock aktif edilir.
	RCC_AHB1EN_R |= GPIOD_EN;

	// D portu temizlenir
	GPIOD_MODE_R &= 0x0;

	// D12 çıkış olarak ayarlanır
	GPIOD_MODE_R |= (1U << 24);
	GPIOD_MODE_R &= ~(1U << 25);

	while(1)
	{
		GPIOD_OD_R ^= PIN12;

		for(int i = 0; i < 100000; i++);
	}

	return 0;
}
